(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{505:function(e,s,r){"use strict";r.r(s);var a=r(4),t=Object(a.a)({},(function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("div",{staticClass:"custom-block tip"},[r("p",[e._v("由于项目需要进行查找所以需要使用elasticsearch但是需要将mysql里的内容同步至elasticsearch所以使用go-mysql-elasticsearch进行同步,go-mysql-elasticsearch 从mysql实时同步数据到elasticsearch 简单使用方法介绍")])]),e._v(" "),r("p",[r("img",{attrs:{src:"https://xgsmile.top/exImg/blogs/1008/ploIWJTw.jpg",alt:""}})]),e._v(" "),r("h2",{attrs:{id:"pom-xml配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#pom-xml配置"}},[e._v("#")]),e._v(" pom.xml配置")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[e._v("    <dependency>\n        <groupId>mysql</groupId>\n        <artifactId>mysql-connector-java</artifactId>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-jdbc</artifactId>\n    </dependency>\n   \x3c!--引入全局搜索Elasticsearch--\x3e\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-data-elasticsearch</artifactId>\n    </dependency>\n")])])]),r("h2",{attrs:{id:"创建接口继承es接口"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#创建接口继承es接口"}},[e._v("#")]),e._v(" "),r("em",[e._v("创建接口继承ES接口")])]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("public interface ArticleRepository extends ElasticsearchRepository<Article,Integer> {\n\n}\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br")])]),r("h2",{attrs:{id:"注入"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#注入"}},[e._v("#")]),e._v(" 注入")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[e._v("@Autowired\nArticleRepository articleRepository;\n")])])]),r("h2",{attrs:{id:"实现方法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#实现方法"}},[e._v("#")]),e._v(" 实现方法")]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('        QueryBuilder queryBuilder;\n        Pageable pageable = PageRequest.of(页码,显示条数);\n        if(key.equals("")){\n            queryBuilder = QueryBuilders.boolQuery().must(QueryBuilders.rangeQuery("参数").gt(0));\n        }else {\n            queryBuilder = QueryBuilders.boolQuery().must(QueryBuilders.matchPhraseQuery(索引,关键词)).must(QueryBuilders.rangeQuery("参数").gt(0));\n        }\n        NativeSearchQueryBuilder nativeSearchQueryBuilder = new NativeSearchQueryBuilder();\n        nativeSearchQueryBuilder.withQuery(queryBuilder);\n        nativeSearchQueryBuilder.withSort(SortBuilders.fieldSort(排序索引).order(SortOrder.DESC));\n        nativeSearchQueryBuilder.withPageable(pageable);\n        Page<Article> results = articleRepository.search(nativeSearchQueryBuilder.build());\n        count = results.getTotalPages();\n\t\tList<Article> list = new ArrayList<Article>();\n        for(Article article:results.getContent()){\n            list.add(article);\n        }\n        return list;\n\n')])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br"),r("span",{staticClass:"line-number"},[e._v("9")]),r("br"),r("span",{staticClass:"line-number"},[e._v("10")]),r("br"),r("span",{staticClass:"line-number"},[e._v("11")]),r("br"),r("span",{staticClass:"line-number"},[e._v("12")]),r("br"),r("span",{staticClass:"line-number"},[e._v("13")]),r("br"),r("span",{staticClass:"line-number"},[e._v("14")]),r("br"),r("span",{staticClass:"line-number"},[e._v("15")]),r("br"),r("span",{staticClass:"line-number"},[e._v("16")]),r("br"),r("span",{staticClass:"line-number"},[e._v("17")]),r("br"),r("span",{staticClass:"line-number"},[e._v("18")]),r("br"),r("span",{staticClass:"line-number"},[e._v("19")]),r("br")])])])}),[],!1,null,null,null);s.default=t.exports}}]);